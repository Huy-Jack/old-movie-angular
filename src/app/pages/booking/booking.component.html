<div class="h-5rem flex justify-content-between align-items-center">
  <div class="flex align-items-center">
    <a class="hover:text-color-secondary cursor-pointer" (click)="onBackClick()">
      <i class="pi pi-angle-left" style="font-size: 2rem"></i>
    </a>
    <h3>Movie Name</h3>
  </div>
  <button
    (click)="showPayment()"
    [disabled]="seatSelected.length === 0"
    [ngClass]="{
      'cursor-pointer hover:bg-secondary hover:text-white': seatSelected.length > 0,
      'opacity-40': seatSelected.length === 0
    }"
    class="w-10rem h-3rem bg--primary border-secondary text-secondary"
  >
    Pay
  </button>
</div>
<div class="w-full h-5rem flex align-items-center px-5 gap-3">
  @for (item of showTime$ | async; track item; let index = $index) {
    <a
      (click)="onChangeShowTime(item.id)"
      [ngClass]="showTimeSelected === item.id ? 'bg-secondary text-white' : ' text-secondary'"
      class="flex flex-column h-3rem justify-content-center px-5 border-round cursor-pointer border-secondary"
    >
      <p class="text-sm">{{ item.start | date: 'HH:mm' }} - {{ item.end | date: 'HH:mm' }}</p>
      <p class="text-sm"></p>
    </a>
  }
</div>
<div class="h-30rem mt-8 mx-auto sheet_container p-2 mx-5">
  <div class="flex h-3rem gap-5">
    <div class="flex gap-2">
      <div class="h-1rem w-1rem border-secondary"></div>
      <p class="text-sm">Available</p>
    </div>
    <div class="flex gap-2">
      <div class="h-1rem w-1rem bg-secondary"></div>
      <p class="text-sm">Selected</p>
    </div>
    <div class="flex gap-2">
      <div class="h-1rem w-1rem bg-gray-300"></div>
      <p class="text-sm">Sold</p>
    </div>
  </div>
  <div class="grid flex justify-content-center">
    <div class="col-6 flex flex-wrap w-full h-full gap-2">
      @for (seat of seat$ | async; track seat; let index = $index) {
        <button
          [ngClass]="{
            'hover:bg-secondary border-secondary hover:text-white cursor-pointer':
              seat.isAvailable === 'TRUE',
            'bg-gray-300 pointer-events-none ': seat.isAvailable === 'FALSE',
            'bg-secondary text-white': seatSelected.includes(seat.seatId)
          }"
          (click)="onSeatSelect(seat.seatId)"
          class="w-3rem bg--primary h-3rem border-secondary text-secondary"
        >
          {{ index + 1 }}
        </button>
      }
      <div class="mx-auto flex flex-column">
        <svg xmlns="http://www.w3.org/2000/svg" width="300" height="200">
          <defs>
            <filter id="balanced-shadow" x="0" y="0" width="150%" height="150%">
              <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="rgba(0, 0, 0, 0.5)" />
            </filter>
          </defs>
          <text
            x="50%"
            y="40%"
            font-family="Arial"
            font-size="13"
            text-anchor="middle"
            alignment-baseline="middle"
          >
            Screen
          </text>
          <path
            d="M10 80 Q 150 150 290 80"
            stroke="black"
            stroke-width="5"
            fill="transparent"
            filter="url(#balanced-shadow)"
          />
          <text
            x="50%"
            y="70%"
            font-family="Arial"
            font-size="13"
            text-anchor="middle"
            alignment-baseline="middle"
          >
            All eyes this way please!
          </text>
        </svg>
      </div>
    </div>
  </div>
</div>
